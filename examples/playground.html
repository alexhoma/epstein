<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Epstein playground</title>
    <script type="text/javascript" src="../dist/epstein.umd.js"></script>
  </head>
  <body>
    <input id="search" type="search"/>
    <div id="results">No results</div>

    <script type="text/javascript">
      var searchInput = document.querySelector('#search');
      var resultsContainer = document.querySelector('#results');
      var books = [
        {
          title: 'Leviathan Awakes',
          author: 'James Corey'
        }, {
          title: 'Calibans War',
          author: 'James Corey'
        }, {
          title: 'Abaddons Gate',
          author: 'James Corey'
        }, {
          title: 'Leviathan War War',
          author: 'Corey James James'
        }
      ];

      var booksIndex = epstein(books);
      searchInput.addEventListener('change', function onUserSearch(e) {
        var results = booksIndex.search(e.target.value);
        resultsContainer.innerHTML = '';

        results.map(function renderResults(result) {
          var div = document.createElement("DIV");
          div.innerHTML = `${result.title} - ${result.author}`;
          resultsContainer.appendChild(div);
        });
      })
    </script>
  </body>
</html>